<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
<head profile="http://gmpg.org/xfn/11">
  <title>Gentoo From Scratch / Linux Plumbers Conf: Developing the Kernel, Libraries and Utilities / September 23-25, 09 / Portland, OR</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <meta name="description" content="Developing the Kernel, Libraries and Utilities / September 23-25, 09 / Portland, OR" />

  <!-- Feeds -->
  <link href="../proposals.atom" rel="alternate" title="Linux Plumbers Conf: Proposals feed" type="application/atom+xml" />
  

  <!-- Stylesheets -->
  
    <link href="../../2009/style/style.css" media="screen" rel="stylesheet" type="text/css" />
  
  <link href="../themes/lpc/stylesheets/custom.css?1257250074" media="screen" rel="Stylesheet" type="text/css" />
  

  <!-- Dynamic styles -->
  
    
      <style type="text/css" media="screen">
        
  /* Audio */
  .track-1 { color: #04207c; }
  .track-1.block { background: #04207c; color: #fff; }
  .track-1.light { background: #0633c6; }
  .track-1.light:hover { background: #062dae; }

  /* BoF */
  .track-14 { color: #1f0de7; }
  .track-14.block { background: #1f0de7; color: #fff; }
  .track-14.light { background: #978ef9; }
  .track-14.light:hover { background: #6c60f6; }

  /* Boot and Init */
  .track-12 { color: #8b9dcb; }
  .track-12.block { background: #8b9dcb; color: #fff; }
  .track-12.light { background: #ffffff; }
  .track-12.light:hover { background: #e9edf5; }

  /* Embedded Systems */
  .track-4 { color: #2dc125; }
  .track-4.block { background: #2dc125; color: #fff; }
  .track-4.light { background: #8de888; }
  .track-4.light:hover { background: #68e161; }

  /* General */
  .track-8 { color: #c97a18; }
  .track-8.block { background: #c97a18; color: #fff; }
  .track-8.light { background: #efba79; }
  .track-8.light:hover { background: #eaa651; }

  /* Inter-Distribution Cooperation */
  .track-9 { color: #d93ab8; }
  .track-9.block { background: #d93ab8; color: #fff; }
  .track-9.light { background: #f4c4ea; }
  .track-9.light:hover { background: #eb96d9; }

  /* Kernel/Userspace/User  Interfaces */
  .track-11 { color: #2a5534; }
  .track-11.block { background: #2a5534; color: #fff; }
  .track-11.light { background: #438853; }
  .track-11.light:hover { background: #3b7749; }

  /* Networking */
  .track-6 { color: #298960; }
  .track-6.block { background: #298960; color: #fff; }
  .track-6.light { background: #52cb97; }
  .track-6.light:hover { background: #39c086; }

  /* Real Time */
  .track-13 { color: #404139; }
  .track-13.block { background: #404139; color: #fff; }
  .track-13.light { background: #66685b; }
  .track-13.light:hover { background: #5a5b50; }

  /* Security */
  .track-2 { color: #eb2d2d; }
  .track-2.block { background: #eb2d2d; color: #fff; }
  .track-2.light { background: #fac6c6; }
  .track-2.light:hover { background: #f59393; }

  /* Storage */
  .track-7 { color: #bebbce; }
  .track-7.block { background: #bebbce; color: #fff; }
  .track-7.light { background: #ffffff; }
  .track-7.light:hover { background: #ffffff; }

  /* X Window System */
  .track-3 { color: #d253df; }
  .track-3.block { background: #d253df; color: #fff; }
  .track-3.light { background: #fbeefc; }
  .track-3.light:hover { background: #edbaf2; }

      </style>
    
  

  <!-- Scripts -->
  <script src="../javascripts/jquery.min.js" type="text/javascript"></script>
  <script src="../javascripts/jquery-ui.effects.core.js" type="text/javascript"></script>
  <script src="../javascripts/jquery-ui.effects.highlight.js" type="text/javascript"></script>
  <script src="../javascripts/application.js" type="text/javascript"></script>
  
    
    
  <script type="text/javascript" charset="utf-8">
    $(document).ready(function() {
      app.favorites_path = '/ocw/users/me/favorites';
      app.current_user = false;
      app.authenticity_token = '3de1ad592bd7309acf8c34d1703480c88bfb9b22';
      populate_user_favorites();
      bind_user_favorite_controls();
      bind_calendar_items();
    });
  </script>
</head>



<body>
  <div id="wrapper">
     <div id="header">
           <h1 id="site-title"><span><a href="../../2009/index.html" title="Linux Plumbers Conf 2009" rel="home">Linux Plumbers Conf 2009</a></span></h1>
           <div id="site-description">Developing the Kernel, Libraries and Utilities</div>
      </div>

      <div id="access">
        <div class="skip-link">
          <a href="23#content" title="Skip to content">Skip to content</a>
        </div>

        <div id="menu">
          <ul>
            <li><a href="../../2009/index.html" />Blog</a></li>
            <li class="page_item page-item"><a href="../../2009/attend/index.html" title="Attend">Attend</a></li>
            <li class="page_item page-item"><a href="../../2009/schedule/index.html" title="Schedule">Schedule</a></li>
            <li class="page_item page-item"><a href="../../2009/program/index.html" title="Program">Program</a></li>
            <li class="page_item page-item"><a href="../../2009/contact/index.html" title="Contact">Contact</a></li>
            <li class="page_item page-item"><a href="../../2009/faqs/index.html" title="FAQs">FAQs</a></li>
          </ul>
        </div>

      </div>

      <div id="container">
        <div id="content">
          <h2 class='entry-title'>Proposals</h2>
          

          <h2 class='page_title'>Gentoo From Scratch</h2>

          <!-- Display notices -->
          
          
          
          

          <!-- Display view's content -->
          

<a href="../login" class="favorite favorite_23"><span>*</span></a>






  

  <div class='show-proposal'>


  <div class='proposal-meta'>
    
  
      <div class='track block track-4'>
        <a href="../events/2009/tracks/4">Embedded Systems</a>
      </div>
  
  
      <a href="../events/2009/session_types/1" class="session_type">Talk</a>
  
    <div class='proposal-slug'>
      lpc2009-0023
    </div>
    
  </div>


  
    <h3>Excerpt</h3>
    <div class="compressed"><p>This talk is about decoupling package management systems from build
<br />environments, making the decisions &quot;what to build&quot; and &quot;how to build&quot;
<br />orthogonal.</p></div>
  

    <h3>Description</h3>
    <p>Embedded Linux developers create lean customized systems from source code,<br />
which run on arbitrary hardware.  But as these build systems grow to include<br />
more packages, they&#8217;re faced with package management and repository<br />
maintenance issues.  This can of worms results in numerous &#8220;accidental<br />
distributions&#8221; such as buildroot which spend the majority of their development<br />
effort maintaining package repositories.</p>
<p>Modern Linux distributions have extensive and well-maintained package<br />
repositories, combined with deeply ingrained assumptions about their<br />
build environment.  Modern Linux distributions are compiled under themselves;<br />
Fedora builds under Fedora, Debian builds under Debian, and even installing<br />
Gentoo (a distro designed around the idea of compiling everything from source)<br />
requires a specific prebuilt root filesystem tarball as a starting point.<br />
This makes it difficult to port these distributions to new hardware, customize<br />
them to remove &#8220;always enabled&#8221; features such as audio support, and swap<br />
out base packages for embedded versions such as busybox, uClibc, and dropbear.</p>
<p>So if embedded build systems are hard to scale up, and full distributions<br />
are difficult to scale down, is there a way to mix and match them?  Can we<br />
reproduce a modern distro entirely from source code under a <em>different</em> build<br />
environment, one which may not even use the same processor?  Can we customize<br />
the distribution&#8217;s base environment to use different packages, or build<br />
individual packages from a distribution repository on top of an embedded<br />
base?</p>
<p>We&#8217;ve made this work using a combination of the &#8220;Firmware Linux&#8221; and<br />
&#8220;Gentoo From Scratch&#8221; projects.  The Firmware Linux stage is like an automated<br />
Linux From Scratch, using BusyBox and uClibc and targeted at a wider variety<br />
of hardware platforms.  It creates a cross compiler toolchain for a target,<br />
uses it to build a native development root filesystem for that target, and<br />
packages the result to run under the emulator qemu.  The Gentoo From Scratch<br />
stage then natively builds additional packages to extend this minimal build<br />
environment with the prerequisites for Gentoo&#8217;s &#8220;portage&#8221;, creating a<br />
usable &#8220;Gentoo Stage 1&#8221; environment from a non-gentoo starting point.</p>
<p>This approach is designed as a series of orthogonal layers, each of which<br />
can be swapped out with a different implementation.  We&#8217;ll detail these<br />
layers and how to swap them out.  We picked Gentoo for its existing focus on<br />
building from source, but will explain how to apply these same techniques to<br />
<span class="caps">RPM</span> or dpkg based systems.  We&#8217;ll also compare the ipkg and slackware<br />
approaches, cross compiling vs native compiling under emulation, and so on.</p>
<p>The presenters are Rob Landley (author of Firmware Linux) and Mark Miller<br />
(author of Gentoo From Scratch), with a potential guest appearance by<br />
the maintainer of Gentoo Embedded.</p>

  
    <h3>Tags</h3>
    <p>gentoo, embedded, cross-compiling</p>
  

  

  <div class="record-controls">
    
    <a href="../events/2009/proposals.1" class="cancelable">Back to list of proposals</a>
  </div>

  
    <h3>Speakers</h3>

    

<ul class='user_list'>

  

<li class="user_box vcard ">
  <a href="../users/32"><img alt="Linucon-2004-ln2" class="user-photo photo" src="../system/photos/32/profile/linucon-2004-ln2.jpg" /></a>
  <div class='user_head'>
    <h3><a href="../users/32" class="fn n" id="id_32" name="id_32">Rob Landley</a></h3>
        <span class='affiliation org'>Impact Linux</span>
      </div>
  <div class='user_body'>
    <div class='user_links'>
      <ul>
                
          <li>Website: <a href="http://landley.net/" onclick="window.open(this.href);return false;" rel="nofollow">http://landley.net/</a></li>
        
        
        
        
        
              </ul>
    </div>

  
    <h4>Biography</h4>
    <div class='note'>
      <p>Rob Landley has been a geek since childhood, a Linux geek since 1998, and an embedded Linux geek since 2001.  (This is because he breaks everything, and likes reducing the complexity in his system so there are less layers to drill through when debugging it.)  He no longer maintains BusyBox, or his own fork of tinycc, but does still maintain Firmware Linux.  He knits chain mail, co-founded two combination science fiction convention/Linux expos, has more cats than are strictly necessary, and sometimes refers to himself in the third person when writing biography entries.</p>
    </div>
  
  
  
  
  
      
  </div>
</li>

  

<li class="user_box vcard ">
  
  <div class='user_head'>
    <h3><a href="../users/31" class="fn n" id="id_31" name="id_31">Mark Miller</a></h3>
      </div>
  <div class='user_body'>
    <div class='user_links'>
      <ul>
                
          <li>Website: <a href="http://mirell.org/" onclick="window.open(this.href);return false;" rel="nofollow">http://mirell.org/</a></li>
        
        
        
        
        
              </ul>
    </div>

  
    <h4>Biography</h4>
    <div class='note'>
      <p>Embedded Linux Developer and SysAdmin</p>
    </div>
  
  
  
  
  
      
  </div>
</li>
</ul>


  






  <form action="http://linuxplumbersconf.org/ocw/proposals/23/comments" class="standard-form" id="comment-form" method="post"><div style="margin:0;padding:0"><input name="authenticity_token" type="hidden" value="3de1ad592bd7309acf8c34d1703480c88bfb9b22" /></div>
    <input id="comment_proposal_id" name="comment[proposal_id]" type="hidden" value="23" />
    <h4>Leave a private comment to organizers about this proposal</h4>
    <table class="standard-form">
      
      <tr>
        <td class="label-cell">
          <label for="comment_email">Email address</label>
        </td>
        <td class="data-cell">
          <input id="comment_email" name="comment[email]" size="30" type="text" />
        </td>
      </tr>
      <tr>
        <td class="label-cell">
          <label for="comment_message">Comment</label>
        </td>
        <td class="data-cell">
          <textarea cols="40" id="comment_message" name="comment[message]" rows="3"></textarea>
        </td>
      </tr>
      <tr class="quagmire">
        <td class="label-cell">
          <label for="quagmire_Leave blank">Leave blank</label>
        </td>
        <td>
          <input id="quagmire" name="quagmire" type="text" />
        </td>
      </tr>
      <tr>
        <td class="label-cell">&nbsp;</td>
        <td class="data-cell">
          <input id="comment_submit" name="commit" type="submit" value="Create comment" />
        </td>
      </tr>
    </table>
  </form>


</div>

        </div><!-- content -->
      </div><!-- container -->

        <div id="primary" class="sidebar">
          <ul class="xoxo">
            
              <li id="login-as">
                <h3>Welcome</h3>
                <ul>
                  <li><a href="../login">Login</a></li>
                  
                </ul>
              </li>
            

            <li id="subscribe-to">
              <h3>Subscribe to</h3>
              <ul>
                <li class="pre-bulletted"><a href="../proposals.atom" class="feedable">Proposals feed</a></li>
                
              </ul>
            </li>

            
          </ul>
        </div><!-- #sidebar-1 -->

    <div id="footer">
    <a href="http://osuosl.org"><img border="0" src="../../2009/style/osl-hosted.png" alt="OSL"/></a>
    </div>

  </div><!--wrapper -->

  

  <!-- arbitrary javascript from views -->
  <script type="text/javascript">
//<![CDATA[
window._token = '3de1ad592bd7309acf8c34d1703480c88bfb9b22'
//]]>
</script>
  <script type="text/javascript">
    
  </script>

  
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-168427-8");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

    <script src="http://static.getclicky.com/79611.js" type="text/javascript"></script>
    <noscript><p><img alt="Clicky" width="1" height="1" src="http://static.getclicky.com/79611-db10.gif" /></p></noscript>
  
</body>
</html>
